# 数据类型

## 1.js数据类型

截至到2021年，已经有8种数据类型。7种原始数据类型（值类型），1种引用数据类型（引用类型）。

- **`String` 字符串**
- **`Number` 数值**
- **`Boolean` 布尔值**
- **`Null` 空值**
- **`Undefined` 未定义**
- **`Symbol` (ES6) 独一无二的值类型。**
- **`BigInt` (ES10) 大整数基本类型。**

原始数据类型和引用数据类型两种类型的区别在于**存储位置的不同**

- 原始数据类型直接存储在栈（stack）中

- 引用数据类型存储在堆（heap）中的对象，引用数据类型在**栈中存储了指针**，该**指针指向**堆中该实体的**起始地址**。当解释器寻找引用值时，会首先检索其在栈中的地址，取得地址后从堆中获得实体。

## 2.堆和栈

堆和栈的概念存在于**数据结构**和**操作系统内存**中。

在数据结构中：

- 在数据结构中，栈中数据的存取方式为先进后出。
- 堆是一个优先队列，是按优先级来进行排序的，优先级可以按照大小来规定。

在操作系统中：

- 内存被分为栈区和堆区
- 栈区内存由编译器自动分配释放，**js所有的变量都存在栈内存中**
- 堆区内存一般由开发着分配释放，若开发者不释放，程序结束时可能由垃圾回收机制回收。

## 3.数据类型检测

**（1）typeof**

数组、对象、null都会被判断为object，其他判断都正确。

**（2）instanceof**

- 可以正确判断对象的类型，**其内部运行机制是判断在其原型链中能否找到该类型的原型**。

- **只能正确判断引用数据类型**，而不能判断基本数据类型。

**（3）===**

- `===` 可以判断undefined、null
- 数量类型判断不要使用`==`，因为它有可能会做数据类型转换。

（4）**Object.prototype.toString.call()**

- 使用 Object 对象的原型方法 toString 来判断数据类型
- 这个方法很准确的判断各种类型

## 4、undefined与null

- undefined代表变量没有赋值

- null: 代表变量赋值了, 只是值为null，表示**空对象**

**什么时候将变量赋值为null?**

- 初始化赋值: 将要作为引用变量使用, 但对象还没有确定
- 结束时: 将变量指向的对象成为垃圾对象

typeof null返回一个对象

## 5、js变量类型

js的变量本身是没有类型的, 变量的类型实际上是变量内存中数据的类型 。

**变量类型**

- 基本类型: 保存基本类型数据的变量
- 引用类型: 保存对象地址值的变量

