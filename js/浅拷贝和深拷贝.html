<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>浅拷贝和深拷贝</title>
    <script>
        /*         var obj1 = {
                    a: 1,
                    b: '2',
                    f: {
                        name: 'haha'
                    }
                }; */
        // var obj2 = {};
        /*         for(var key in obj1){
                    obj2[key] = obj1[key];
                }
                console.log(obj1);
                console.log(obj2);
                obj1.a = 999;
                obj1.f.name='hehe';
                console.log(obj1);
                console.log(obj2);
         */
        //  const obj2 = Object.assign({}, obj1);

        // console.log(obj2);


        var obj1 = {
            a: 1,
            b: '2',
            f: {
                name: 'haha'
            },
            color: ['red', 'blue', 'green']
        };
        var obj2 = {};
        deepCopy(obj2, obj1);
        console.log(obj2);
        obj1.f.name = 'hehe';
        console.log(obj1);
        console.log(obj2);
        function deepCopy(newObj, oldObj) {

            for (let key in oldObj) {
                //let item = oldObj[key];
                if (oldObj[key] instanceof Array) {
                    newObj[key] = [];
                    deepCopy(newObj[key], oldObj[key]);
                } else if (oldObj[key] instanceof Object) {
                    newObj[key] = {};
                    deepCopy(newObj[key], oldObj[key]);
                } else {
                    newObj[key] = oldObj[key];
                }
            }
        }


/*         let obj1 = {
    name: 'qianguyihao',
    age: 28,
    info: {
        desc: 'hello',
    },
    color: ['red', 'blue', 'green'],
};
let obj2 = {};

deepCopy(obj2, obj1);
console.log(obj2);
obj1.info.desc = 'github';
console.log(obj2);

// 方法：深拷贝
function deepCopy(newObj, oldObj) {
    for (let key in oldObj) {
        // 获取属性值 oldObj[key]
        let oldObj[key] = oldObj[key];
        // 判断这个值是否是数组
        if (oldObj[key] instanceof Array) {
            newObj[key] = [];
            deepCopy(newObj[key], oldObj[key]);
        } else if (oldObj[key] instanceof Object) {
            // 判断这个值是否是对象
            newObj[key] = {};
            deepCopy(newObj[key], oldObj[key]);
        } else {
            // 简单数据类型，直接赋值
            newObj[key] = oldObj[key];
        }
    }
} */
    </script>
</head>

<body>

</body>

</html>