# Git分支

分支相当于当前工作目录的副本，使用分支，可以让我们从主线中分离出来，不同的分支可以做不同的事情，有的分支修复bug，有的分支开发新功能，避免影响开发主线。

## 1、分支的分类

- 主分支(master)：第一次向git仓库中提交更新记录时自动产生的分支。
- 开发分支(develop)：作为开发的分支，基于master分支创建，在实际开发中，一定要保持主分支的稳定性，开发完成后，再合并到主分支，每个分支相互独立，互不影响。
- 功能分支(feature)：作为开发具体功能的分支，基于开发分支创建。功能分支开发完成后，再合并到开发分支，开分分支功能累计后再合并到主分支。

分支可以存储各个项目版本

## 2、分支命令

- `git branch` 查看分支
- `git branch 分支名称` 创建分支
- `git checkout -b 分支名称` 创建并切换分支
- **在切换分支之前，当前分支上的工作一定要提交到git仓库中，要保证当前分支上的工作区是完全干净的状态。**
- `git checkout 分支名称` 切换到指定分支
- `git push -u origin 分支名称`
- `git merge 需要合并的分支` 合并分支，合并分支前要先切换到主分支
- `git branch -d 分支名称`删除分支，删除分支前要切换到其他分支下，分支被合并后才运行删除，`-D`可以强制删除
- 经过实验证明，主分支也能够被删除，小心。
- `git push origin --delete 分支名称` 删除远程分支

## 3、暂时保持更改

在git中，分支要先提交到仓库再切换，但有时不想提交又要切换分支，可以暂时提取分支上的所有改动并存储，让开发人员得到一个干净的工作副本，临时转向其他工作。

- `git stash` 存储临时改动，提取所有的改动并保存至剪切板内
- `git restore --staged 文件` 这条命令还可以将临时存储的文件撤销
- `git stash pop`恢复分支

**git提供的存储功能是独立于分支的，其他分支也可以使用这个命令，注意不要弄错分支**