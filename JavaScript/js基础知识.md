### JavaScript的书写位置
HTML中推荐双引号，js中推荐单引号。js严格区分大小写。分号结尾但是可以省略。
有3种方式引入js代码：
- 行内式：直接写HTML标签的事件中
- 内嵌式：直接编写到`<script>`标签中。
- 引入外部JS文件`<script src="tool.js"></script>`

### JavaScript输入输出语句
- 弹出警告框 `alert()`
- 控制台输出 `console.log()`
- 向body中输入内容 `document.write()`
- 弹出输入框 `prompt()`，用户不管输入什么内容，都是字符串。我们可以用一个变量，来接收用户输入的内容。

### 字面量和变量

#### 字面量
字面量即常量，不可改变的量。
- 数字 12345
- 字符串 单词句子'123' 'word' '吃饭'
- 布尔值 true false 

字面量都可以直接使用，但是我们都不会直接使用字面量。一般定义一个变量来保存这个字面量。

#### 变量
变量是程序向内存申请的一块可以存储数据的空间。变量需要的声明和赋值。
- 声明/定义变量 
  - `var name;`声明一个名为`name`的变量。ES6之前都用`var`
  - `const name;` 定义一个常量
  - `let age;` 定义一个变量

- 变量的赋值
  - `name = 'haha'` 变量名=变量值

变量的声明和赋值可以写在一起。
- var a = 100;
- const b = hello
- let b = world

声明一个变量并赋值，称为变量的初始化。

声明变量要点：
- 变量新赋值，以最后一次赋值为准
- 同时声明多个变量，多个变量名用`,`隔开。var name = 'a' , age =18;
- 变量建议先声明再使用。
- 变量名严格区分大小写。
- 定义但为赋值的变量结果显示`undefined`

### 区块
JavaScript使用大括号，将多个语句组合起来，称为区块。对于`var`命令，JavaScript的区块不构成单独的作用域（scope）。
````js
{
    var a = 1;
}
a
````
在区块内部，使用var声明并赋值的变量a，在区块外部依然有效。区块对于var不构成单独的作用域。



### 标识符、关键字、保留字

#### 标识符
标识符：在js中可以由我们自主命名的都可以成为标识符。

变量名、函数名、属性名、参数名都是标识符。我们写代码时取得名字就是标识符。
- 可以含有字母、数字、`_`、`$`
- 不能以数字开头
- 不能是关键字和保留字
- 一般使用驼峰命名法，首字母小写，每个单词开头大写，`helloWorld` `tuoFengMingFa`
- 或者下划线方法`hello_world`


#### 关键字
JS本身已经使用得单词，不能再用来充当变量。
#### 保留字
预备关键字

### 变量的数据类型
在计算机中，不同的数据所需的存储空间不同，为了充分利用存储空间，就定义了不同的数据类型。js中一共有6种数据类型，5种基本数据类型（值类型），1种引用数据类型（引用类型）。
- `String` 字符串
- `Number` 数值
- `Boolean` 布尔值
- `Null` 空值
- `Undefined` 未定义
- `Object` 对象

变量的数据类型是可以变化的，`var name = 'a'; name = 1;` 此时，变量name由字符串变成了数字类型。

基本数据类型和引用数据类型的最大区别：
- 基本数据类型：参数赋值时，传数值。
- 引用数据类型：参数赋值时，传地址。

引用数据类型只有1种，但是可以分为3个子类型
- 狭义的对象 object
- 数组 array
- 函数 function

### 栈内存和堆内存
JS中，所有的变量都保存在栈内存中的。

#### 基本数据类型
基本数据类型的值，直接保存在栈内存中。值和值相互独立，修改一个变量不会影响其他变量。

#### 引用数据类型
对象是保存在堆内存中的，每创建一个新的对象，就会在堆内存中开辟一个新的空间；而变量保存了对象的内存地址（对象的引用），保存在栈内存中。如果两个变量保存了同一对象的引用，当一个通过一个变量修改属性时，另一个也会受到影响。

### typeof 运算符
JavaScript有3种方法确定值到底是什么类型。
- typeof 运算符
- instanceof 运算符
- Object.prototype.toString 方法

`typepf`运算符可以返回一个值的数据类型。
- 数值返回 number
- 字符串返回 string
- 布尔值返回 boolean
- 函数返回 function
- undefined返回 undefined
- null返回 object 特殊，因为在1995年时，没有考虑null，把null当作object的特殊值。

`typeof`可以用来检查一个没有声明的变量，而不报错。
````js
v
// ReferenceError: v is not defined
typeof v
// "undefined"
````
变量v没有用var命令声明，直接使用就会报错。但是，放在typeof后面，就不报错了，而是返回undefined。



### String字符串
字符串使用单引号或者双引号。要点：
- `''`引号间什么都不写，称为空字符串。
- 同类引号不能嵌套。
- 对于一些特殊的符号，可以使用`\`作为转义字符。
  - `\'` 单引号
  - ` \"` 双引号
  - `\n` 换行
  - `\r`回车
  - `\b`空格
  
#### 获取字符串的长度
字符串由若干份字符串组成，这些字符的数量就是字符串的长度，可以通过length属性获取整个字符串的长度。
````js
        var str1 = '你好';
        var str2 = 'hello';
        var str3 = 'hello world';
        var str4 = 'hello,world';
        console.log(str1.length); // 2
        console.log(str2.length); // 5
        console.log(str3.length); // 11
        console.log(str4.length); // 11
````
- 一个中文、英文都算一个字符
- 一个中文标点、英文标点算一个字符
- 一个空格算一个字符，多个连续空格也算多个字符。

#### 字符串的拼接
多个字符串之间可以使用加号 `+` 进行拼接。

`字符串 + 任意数据类型 = 拼接之后的新字符串`

拼接前，任意数据类型会强制转换成字符串，然后再拼接成一个新的字符串。应用：
- `''+任意数据类型` 可以强制转换成字符串

#### 字符串与数组
- 字符串可以视为字符数组，因此可以使用方括号运算符，用来返回某个位置的字符，从0开始。
````js
        var s = 'hello';
        console.log(s[0])// "h"
        console.log(s[1])// "e"
        console.log(s[4])// "o"
        // 直接对字符串使用方括号运算符
        console.log('hello'[1]) // "e"
````
- 如果方括号中的数字超过字符串的长度，或者方括号中根本不是数字，则返回undefined。
- 字符串与数组的相似性仅此而已。实际上，无法改变字符串之中的单个字符。

#### 字符串的不可改变性
字符串里面的值不可被改变，虽然看上去内容变了，其实是地址变了，内存中开辟了新的空间。 
````js
var str = 'hello';
str = 'world';
````
当重新给变量str赋值时，常量'hello'不会被修改，依然保存在内存中，str会改为指向`world`。

#### 模板字符串（模板字面量）
````js
var name = 'tom';
var age = '17';
console.log('我是' + name + ',age:' + age);//传统写法
console.log(`我是${name},age:${age}`);//ES6新语法
````
注意：ES6新语法括号中不是单引号，而是TAB键上方的符号。

- 模板字符串中可以直接换行
````js
var name = 'tom';
var age = '17';
console.log(`我是${name},
age:${age}`);//ES6新语法
````
- 在模板字符串中插入表达式
````js
var a = 2;
var b = 1;
console.log(`和为${a+b}，积为${a*b}`);//ES6新语法
````
- 模板字符串中可以调用函数
- 模板字符串支持嵌套使用

### Number数值
JS中所有的数值都是Number类型，包括整数和浮点数（小数）。JavaScript 语言的底层根本没有整数，所有数字都是小数（64位浮点数），1与1.0是相同的，是同一个数。JavaScript 内部实际上存在2个0：一个是+0，一个是-0，区别就是64位浮点数表示法的符号位不同。它们是等价的。但是，当+0或-0当作分母，返回的值是不相等的。因为除以正零得到+Infinity，除以负零得到-Infinity，这两者是不相等的。


- 精度最多只能到53个二进制位，绝对值小于2的53次方的整数，即-2^53到2^53,都可以精确表示。
- 能够表示的数值范围为2^1024到2^-1023（开区间），超出这个范围的数无法表示。
- JavaScript 提供Number对象的MAX_VALUE和MIN_VALUE属性，返回可以表示的具体的最大值和最小值。

当Number表示的变量超过了最大值，则会返回infinity。
- 正无穷 infinity 
  - Infinity与null计算时，null会转成0，等同于与0的计算。
  - Infinity与undefined计算，返回的都是NaN。
- 负无穷 -infinity
- 特殊的数字 NaN not a number，非数值。NaN在布尔运算时被当作false。
- 这三个值使用typeof的结果都是Number。

NaN与任何值都不相等，包括NaN本身，Undefined和任何数值计算的结果都是NaN。

`+`只有在两边都是Number类型时，才是数字相加，否则就是连字符，用来连接字符串。

`-`时，"2"-1得到的结果却是数值1，字符串会自动做隐式转换。

#### 数字进制
- 十进制：没有前导0的数值。
- 八进制：有前缀0o或0O的数值，或者有前导0、且只用到0-7的八个阿拉伯数字的数值。
- 十六进制：有前缀0x或0X的数值。
- 二进制：有前缀0b或0B的数值


#### 运算精度
JS中整数运算基本可以保证准确，小数运算很可能得到一个不准确的结果。要进行准确的运算的方法；
- 简单精度 使用`toFix()`方法进行小数的截取
- 实际开发中，可以使用数学运算开源库
  - Math.js 文件很大，压缩的文件500kb，涉及大型的复杂运算使用
  - decimal.js 轻量的运算库，压缩的文件32kb，大多数数学运算项目都可以满足。

开源库既可以使用cdn的方式引用，也可以使用npm包的方式引入。

#### 关于数值相关的全局方法
1.  parseInt()将字符串转换成整数
  - 头部空格会自动消除
  - 不是字符串，则会先转为字符串再转换
  - 第一个字符不能转换成数字（除后面直接跟着数字的正负号），返回NaN。
  - 返回值只有两种可能，十进制整数或者NaN。
  - 字符串以0x或0X开头，parseInt会将其按照十六进制数解析
  - 如果字符串以0开头，将其按照10进制解析。
  - 科学计数法不好使，e会被当成普通字母。
````js
parseInt(1000000000000000000000.5) // 1
// 等同于
parseInt('1e+21') // 1
parseInt(0.0000008) // 8
// 等同于
parseInt('8e-7') // 8
````
  - parseInt方法还可以接受第二个参数（2到36之间，如果第二个参数没有意思则会被忽略），表示被解析的值的进制。默认值是10。
````js
parseInt('1000', 2) // 8
parseInt('1000', 6) // 216
parseInt('1000', 8) // 512
````

2. parseFloat()将一个字符串转为浮点数。
   - 科学计数法好使。
   - 空字符串转为NaN。

3. isNaN()方法可以用来判断一个值是否为NaN。
   - 只对数值有效，如果传入其他值，会被先转成数值。
   - isNaN为true的值，有可能不是NaN，而是一个字符串。
   - 对于对象和数组，isNaN也返回true。
   - 但是对于空数组和只有一个数值成员的数组，isNaN又返回false。
   - NaN是唯一不等于自身的值，这是最可靠的方法。
````js
function myIsNaN(value) {
  return value !== value;
}
````
4. isFinite()方法返回一个布尔值，表示某个值是否为正常的数值。
   - Infinity、-Infinity、NaN和undefined这几个值会返回false
   - `isFinite`对于其他的数值都会返回true。


### Boolean布尔值
布尔值有两个`true` 和 `false`。千万不能加引号，主要用来做逻辑判断： 
- true 表示真
- false 表示假

布尔型和数字型相加时，
- true 按 1 来算 
- false 按 0 来算
对于以下几个值转换成布尔值时为false，其他都是true。
- undefined
- null
- false
- 0
- NaN
- ""或'' 空字符串

注意：空数组（[]）和空对象（{}）对应的布尔值，都是true。

### Null和Undefined
null专门用来定义空对象，如果想定义一个变量引用类型，但是暂时还没想好放什么内容，可以设置为null。
- Null类型的值只有一个，就是null。
- 使用typeof检查一个null值时，会返回object。

undefined未定义，使用的情况：
- 变量已声明，但未赋值，此时该变量的值就是undefined
- 变量未声明未定义时，直接使用会报错，使用typeof检查则返回undefined。
- 如果一个函数没有返回值，那么，这个函数的返回值就是 undefined。在定义一个函数时，如果末尾没有return语句，那么其实就是`return undefined`
- 调用函数时，如果没有传参，那么这个值就是undefined。

#### null和undefined的区别
- null == undefined 为true
- null === undefined 为false
- 和数字做运算时：
  - 10 + null 结果时10
  - 10 + undefined 结果为NaN

任何数据类型和undefined运算都是NaN，任何值和null运算都相当于和0运算。


### 强制的类型转换
将一个数据类型强制转换成其它的数据类型。类型转换主要指将其他的数据类型转换为String Number Boolean。

#### 将其他数据类型转换成String
- 调用被转换数据类型的toString()方法。
  - 该方法不会影响原变量，它会将转换的结果返回
  - 调用xxx的yyy方法，就是xxx.yyy
  - `var a = a.toString();`
  - 注意：null和undefined两者值没有toString()方法。
- 调用String()函数，并将转换的数据作为参数传递给函数。
  - 调用xxx函数，就是xxx();
  - `var a = String(a);`
  - 使用String()函数做强制转换时，对于Number和Boolean实际上就是调用的toString()方法，对于Null和Undefined则是直接转换成"Null"和"Undefined"

#### 将其他数据类型转换成Number
- 调用Number()函数，并将转换的数据作为参数传递给函数。
  - `var b = Number(b);`
  - 纯数字字符串转换成数字
  - 含有非数字内容转换成NaN
  - 空串和全空格转换成0
  - 布尔值true转换成1，false转换成0
  - null转换成0，undefined转换成NaN
- parseInt()将一个字符串转换成整数，专门处理字符串
  - 可以将一个字符串的有效整数取出来
  - `var c = parseInt(c);`
- parseFloat()将一个字符串转换成小数
  - 可以将一个字符串的有效小数取出来，专门处理字符串
  - `var c = parseInt(c);`
- parseInt()和parseFloat()会将非字符串会先转换字符串再操作。



